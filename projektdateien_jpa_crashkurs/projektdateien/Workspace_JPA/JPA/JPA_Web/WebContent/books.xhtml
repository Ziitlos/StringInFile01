<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head>
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/bootstrap-theme.css" />
</h:head> 
<body> 

	<f:metadata>
        <f:event type="preRenderView" listener="#{booksQueryModel.query()}"/>
    </f:metadata>

	<div class="container">
		<div class="jumbotron">
			<h1>JPA Crashkurs</h1>
		</div>
		
		<div class="row">
			<div class="col-lg-12">
				<h3>BÃ¼cherliste</h3>
			</div>
		</div>
		
		<h:form>
			<div class="row">
				<div class="form-group col-sm-10">
					<h:inputText value="#{booksQueryModel.title}" styleClass="form-control" />
				</div>
				<div class="col-sm-2">
					<h:commandButton styleClass="btn btn-success" action="#{booksQueryModel.query}" value="Suchen!" />
					<br />&nbsp;
				</div>
			</div>
		</h:form>		
		
		<div class="row">
			<div class="col-lg-12">
			
				<h:dataTable var="book" value="#{ booksQueryModel.books }" styleClass="table table-striped">
					<h:column>
						<f:facet name="header">#</f:facet>
						#{ book.id }
					</h:column>
					<h:column>
						<f:facet name="header">Titel</f:facet>
						#{ book.title }
					</h:column>
					<h:column>
						<f:facet name="header">ISBN</f:facet>
						#{ book.isbn }
					</h:column>
					<h:column>
						<f:facet name="header">Erscheinungsjahr</f:facet>
						#{ book.year }
					</h:column>
				</h:dataTable>
			</div>
		</div>
		
	</div>
		
	<script src="scripts/jquery-2.1.4.min.js"></script>
	<script src="scripts/bootstrap.js"></script>
</body> 
</html>